<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Student Performance Tracking</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
<link rel="stylesheet" href="css/log.css" />
</head>
<body>

<img src="https://www.apps-newhorizonindia.in/institution/misc/nhce.png" alt="NHCE Logo" class="top-left-logo"/>
<div class="login-card z-depth-1">
    <div id="loginViewContent">
        <div id="loadingOverlay" class="loading-overlay" style="display:none;">
            <div class="loader"></div>
        </div>
        <h6 class="center-align poppins-title">Student Performance Tracking</h6><br>
        <div class="genericavatar">
            <div class="inneravatar">
                <div class="circle2 circle-left"></div>
                <div class="circle circle-right"></div>
            </div>
        </div>
        <div id="segmentedbutton" class="segmentedbutton">

            <div data-role="faculty" id="segment-start" class="segment-start">
                <div id="container" class="container active">
                    <span class="segment-content">
                        <span class="label-text">Faculty</span>
                        <i id="selectedicon" class="material-icons selectedicon">check</i>
                    </span>
                </div>
            </div>

            <div data-role="student" id="segment-end" class="segment-end">
                <div id="container2" class="container2">
                    <span class="segment-content">
                        <span class="label-text2">Student</span>
                        <i id="selectedicon2" class="material-icons selectedicon">check</i>
                    </span>
                </div>
            </div>

        </div>

    </div>
<div id="loginFields">
    <form name="loginForm" id="loginForm" action="LoginServlet" method="post">
        <input type="hidden" id="loginRoleInput" name="role" value="faculty"/>
        <div class="input-field">
            <i class="material-icons prefix">person</i>
            <input id="username" name="username" type="text" class="validate" required/>
            <label for="username">Usermail</label>
        </div>
        <div class="input-field">
            <i class="material-icons prefix">lock</i>
            <input id="password" name="password" type="password" class="validate" required/>
            <label for="password">Password</label>
            <i class="material-icons toggle-pw" id="togglePw">visibility_off</i>
        </div>
        <p class="right-align">
            <a href="#" onclick="showForgotPasswordForm()"><u>Forgot Password?</u></a>
        </p>
        <center>
            <button class="state-layer" id="loginBtn" type="submit">
                <span id="formButtonLabel" class="label">Login</span>
            </button><br><br>
            <h6>Have not registered yet?<a href="#" onclick="switchToRegister()"><u>&nbsp;Register</u></a></h6>
        </center>
    </form>

    <div id="forgotPasswordSection" style="display:none;">
       <fieldset>
            <legend>Forgot Password</legend>

            <div id="forgotEmailStep">
                <div class="input-field">
                    <i class="material-icons prefix">email</i>
                    <input id="forgotEmail" name="forgotEmail" type="email" class="validate" required/>
                    <label for="forgotEmail">Enter your Email ID</label>
                </div>
                <center>
                    <button class="state-layer" id="sendOtpBtn" type="button">
                        <span class="label">Send OTP</span>
                    </button>
                    <br><br>
                    <a href="#" onclick="switchToLogin()">Back to Login</a>
                </center>
            </div>

            <div id="forgotOtpStep" style="display:none;">
                <p class="center-align">Enter the 6-digit OTP sent to your email.</p>
                <div class="otp-input-container">
                    <input type="text" maxlength="1" class="otp-input" id="otp1">
                    <input type="text" maxlength="1" class="otp-input" id="otp2">
                    <input type="text" maxlength="1" class="otp-input" id="otp3">
                    <input type="text" maxlength="1" class="otp-input" id="otp4">
                    <input type="text" maxlength="1" class="otp-input" id="otp5">
                    <input type="text" maxlength="1" class="otp-input" id="otp6">
                </div>
                <center>
                    <button class="state-layer" id="verifyOtpBtn" type="button">
                        <span class="label">Submit OTP</span>
                    </button>
                    <br><br>
                    <a href="#" onclick="showForgotPasswordForm()"><u>Resend OTP / Change Email</u></a>
                </center>
            </div>

            <div id="setNewPasswordStep" style="display:none;">
                <div class="input-field">
                    <i class="material-icons prefix">lock</i>
                    <input id="newPassword" name="newPassword" type="password" class="validate" required/>
                    <label for="newPassword">New Password</label>
                    <i class="material-icons toggle-pw" id="toggleNewPw">visibility_off</i>
                </div>
                <div class="input-field">
                    <i class="material-icons prefix">lock_outline</i>
                    <input id="confirmNewPassword" name="confirmNewPassword" type="password" class="validate" required/>
                    <label for="confirmNewPassword">Confirm New Password</label>
                    <i class="material-icons toggle-pw" id="toggleConfirmNewPw">visibility_off</i>
                </div>
                <center>
                    <button class="state-layer" id="resetPasswordBtn" type="button">
                        <span class="label">Reset Password</span>
                    </button>
                    <br><br>
                    <a href="#" onclick="switchToLogin()">Back to Login</a>
                </center>
            </div>
       </fieldset> 
    </div>

    <form name="registerForm" id="registerForm" action="RegisterServlet" method="post" style="display:none;">
        <input type="hidden" id="registerRoleInput" name="role" value="faculty"/>
        <fieldset>
            <legend>Registration Form</legend>
            <div class="register-input-group">
                <label for="regUsername">USERID:</label>
                <input class="control" type="text" id="regUsername" name="regUsername">
            </div>
            <div class="register-input-group">
                <label for="regEmail">EMAIL:</label>
                <input class="control" type="email" id="regEmail" name="regEmail" placeholder="EMAIL" required> </div>
            <div class="register-input-group">
                <label for="regPassword">PASSWORD:</label>
                <input class="control" type="password" id="regPassword" name="regPassword">
            </div>
            <div class="register-input-group">
                <label for="confirmPassword">CONFIRM PASSWORD:</label>
                <input class="control" type="password" id="confirmPassword" name="confirmPassword" placeholder="CONFIRM PASSWORD">
            </div>
            <div class="register-buttons">
                <button id="registerBtn" type="submit">REGISTER</button>
                <button type="reset">CLEAR</button>
            </div>
            <center><a href="#" onclick="switchToLogin()">Back to Login</a></center>
        </fieldset>
    </form>
</div>

<div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 9999; justify-content: center; align-items: center; flex-direction: column; color: white;">
    <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue-only">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div><div class="gap-patch">
                <div class="circle"></div>
            </div><div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
    </div>
    <p>Loading...</p>
</div>

<div id="customMessageOverlay">
    <div id="customMessageContent">
        <i id="customMessageIcon" class="material-icons"></i>
        <p id="customMessageText"></p>
        <button id="customMessageOkBtn">OK</button>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="js/log.js"></script>
<div class="fixed-action-btn">
    <a class="btn-floating btn-large grey darken-3" id="darkModeToggle">
        <i class="large material-icons" id="darkModeIcon">brightness_2</i> </a>
</div>
</body>
</html>